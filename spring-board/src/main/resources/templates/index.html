<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>홈 페이지</title>
    <link th:href="@{/css/lib/bootstrap.min.css}" rel="stylesheet" />
    <!-- 부트스트랩 CSS -->
  </head>
  <body>
    <div
      class="d-flex justify-content-between align-items-center p-3 bg-primary text-white"
    >
      <div class="font-weight-bold h5">스프링 게시판 입니다.</div>
      <button
        onclick="doLogOut()"
        id="logoutBtn"
        class="btn btn-danger"
        style="display: none"
      >
        로그아웃
      </button>
    </div>

    <script>
      window.onload = () => {
        // 세션 스토리지확인
        const isLoggedIn = !!sessionStorage.getItem("login");

        if (isLoggedIn) {
          // 로그인 상태: 로그아웃 버튼 표시
          document.getElementById("logoutBtn").style.display = "block";
        } else {
          // 로그아웃 상태: 로그아웃 버튼 숨기기
          document.getElementById("logoutBtn").style.display = "none";
        }
      };
      function doLogOut() {
        sessionStorage.removeItem("login");
        alert("로그아웃 되었습니다!");
        location.replace("/logout");
      }
    </script>

    <div class="container mt-5">
      <div class="row">
        <!-- 회원가입 링크 -->
        <div class="col-md-4 mb-4">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">회원가입</h5>
              <p class="card-text">새로운 계정을 만들어보세요!</p>
              <a href="/register" class="btn btn-primary">회원가입</a>
            </div>
          </div>
        </div>

        <!-- 로그인 링크 -->
        <div class="col-md-4 mb-4">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">로그인</h5>
              <p class="card-text">이미 계정이 있으신가요? 로그인 해주세요.</p>
              <a href="/login" class="btn btn-success">로그인</a>
            </div>
          </div>
        </div>

        <!-- 게시글 목록 링크 -->
        <div class="col-md-4 mb-4">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">게시글 목록</h5>
              <p class="card-text">게시된 글들을 확인하세요!</p>
              <a href="/posts" class="btn btn-info">게시글 목록</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script th:src="@{/js/lib/bootstrap.bundle.min.js}"></script>
    <!-- 부트스트랩 JS -->
  </body>
</html>
